!function a(o,n,m){function u(r,e){if(!n[r]){if(!o[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var i=n[r]={exports:{}};o[r][0].call(i.exports,function(e){var t=o[r][1][e];return u(t||e)},i,i.exports,a,o,n,m)}return n[r].exports}for(var s="function"==typeof require&&require,e=0;e<m.length;e++)u(m[e]);return u}({1:[function(e,t,r){"use strict";new function(){var i=this,t=document,a=void 0;this.itemBox=t.querySelectorAll(".itembox"),this.summCont=t.querySelector(".results"),this.select=t.querySelector(".region__select"),this.getSummData_=function(){return JSON.parse(localStorage.getItem("summ"))},this.setSummData_=function(e){return localStorage.setItem("summ",JSON.stringify(e)),!1},this.deleteSummData_=function(){return localStorage.removeItem("summ")},this.addEvent_=function(e,t,r){return e.addEventListener(t,r,!1),!1},this.plusItem_=function(e){return i.summData=i.getSummData_()||{},i.parentBox=e.target.parentNode.parentNode,i.itemId=i.parentBox.querySelector(".item__add").getAttribute("data-id"),i.itemTitle=i.parentBox.querySelector(".item__title").innerHTML,i.itemPrice=i.parentBox.querySelector(".item__add").getAttribute("price"),i.itemWeight=i.parentBox.querySelector(".item__add").getAttribute("weight"),i.count=i.parentBox.querySelector(".addon__count"),i.summData.hasOwnProperty(i.itemId)?i.summData[i.itemId][3]++:i.summData[i.itemId]=[i.itemTitle,i.itemPrice,i.itemWeight,1],i.setSummData_(i.summData)||(i.count.innerHTML=""+i.summData[i.itemId][3]),i.summary_(),!1},this.removeItem_=function(e){return i.summData=i.getSummData_(),i.parentBox=e.target.parentNode.parentNode,i.itemId=i.parentBox.querySelector(".item__add").getAttribute("data-id"),i.itemTitle=i.parentBox.querySelector(".item__title").innerHTML,i.itemPrice=i.parentBox.querySelector(".item__add").getAttribute("price"),i.itemWeight=i.parentBox.querySelector(".item__add").getAttribute("weight"),i.count=i.parentBox.querySelector(".addon__count"),i.countWrap=i.parentBox.querySelector(".counter-wrap"),i.summData.hasOwnProperty(i.itemId)&&1<=parseInt(i.summData[i.itemId][3])&&i.summData[i.itemId][3]--,i.summData.hasOwnProperty(i.itemId)&&parseInt(i.summData[i.itemId][3])<1&&(i.itemChecked=i.parentBox.querySelector(".item__add"),i.itemChecked.checked=!1,i.countWrap.style.display="none",i.parentBox.classList.remove("itembox--active"),i.parentBox.querySelector(".item__checked").style.display="none",i.resultWrap=t.querySelector(".result__block"),i.resultWrap.style.display="none",delete i.summData[i.itemId]),i.setSummData_(i.summData)||"flex"===i.countWrap.style.display&&(i.count.innerHTML=""+i.summData[i.itemId][3]),i.summary_(),!1},this.addItem_=function(e){return i.summData=i.getSummData_()||{},i.parentBox=e.target.parentNode,i.itemId=i.parentBox.querySelector(".item__add").getAttribute("data-id"),i.itemTitle=i.parentBox.querySelector(".item__title").innerHTML,i.itemPrice=i.parentBox.querySelector(".item__add").getAttribute("price"),i.itemWeight=i.parentBox.querySelector(".item__add").getAttribute("weight"),i.count=i.parentBox.querySelector(".addon__count"),i.summData.hasOwnProperty(i.itemId)?"radio"==e.target.getAttribute("type")||"checkbox"==e.target.getAttribute("type")&&(e.target.checked=!1,i.countWrap=i.parentBox.querySelector(".counter-wrap"),i.countWrap.style.display="none",delete i.summData[i.itemId]):"radio"==e.target.getAttribute("type")?(delete i.summData[Object.keys(i.summData)[0]],i.summData[i.itemId]=[i.itemTitle,i.itemPrice,i.itemWeight,1],i.addons=t.querySelector(".addons"),i.addons.style.display="block"):"checkbox"==e.target.getAttribute("type")&&(i.summData[i.itemId]=[i.itemTitle,i.itemPrice,i.itemWeight,1],i.countWrap=i.parentBox.querySelector(".counter-wrap"),i.countWrap.style.display="flex",i.resultWrap=t.querySelector(".result__block"),i.resultWrap.style.display="block"),i.setSummData_(i.summData)||i.count&&(i.count.innerHTML=""+i.summData[i.itemId][3]),i.summary_(),!1},this.delItem_=function(e){return i.summData=i.getSummData_(),i.parentBox=e.target.parentNode,i.itemId=e.target.getAttribute("data-id"),i.count=i.parentBox.querySelector(".addon__count"),i.summData.hasOwnProperty(i.itemId)&&("checkbox"==e.target.getAttribute("type")&&(i.countWrap=i.parentBox.querySelector(".counter-wrap"),i.countWrap.style.display="none",i.resultWrap=t.querySelector(".result__block"),i.resultWrap.style.display="none",delete i.summData[i.itemId]),i.setSummData_(i.summData)||"flex"===i.count.style.display&&(i.count.innerHTML=""+i.summData[i.itemId][3])),i.summary_(),!1},this.unique_=function(e){var t=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(t[a]==i)continue e;t.push(i)}return t},this.summary_=function(){i.summData=i.getSummData_(),i.totalItems="",i.totalPrice=0,i.totalWeight=0,i.shippingFee=0,i.summ=0,i.arr=[],i.xhr=new XMLHttpRequest,i.xhr.open("GET","weight.json"),i.xhr.responseType="json",i.xhr.addEventListener("load",function(){if(4===i.xhr.readyState){for(var e in i.data=i.xhr.response,i.summData)i.totalPrice+=parseInt(i.summData[e][1]*i.summData[e][3]),i.totalWeight+=parseFloat(i.summData[e][2]*i.summData[e][3]),e===Object.keys(i.summData)[0]?(i.rewardTiers=t.querySelector(".reward-tiers__items"),i.rewardTiers.innerHTML="",i.rewardTiers.innerHTML=""+i.summData[e][0]):i.arr.push(i.summData[e][0]);i.totalWeight=Math.ceil(i.totalWeight),i.data.forEach(function(e){if(i.totalWeight===parseInt(e.weight))for(var t in e)a===t&&(i.shippingFee=e[t]);else if(Math.ceil(i.totalWeight)>=parseInt(e.weight))for(var r in e)a===r&&"USACanada"===r?i.shippingFee=144:a===r&&"EU"===r?i.shippingFee=144:a===r&&"rotw"===r&&(i.shippingFee=168)})}i.rewardAddons=t.querySelector(".add-ons__items"),i.rewardAddons.innerHTML=i.unique_(i.arr)+";",i.weight=t.querySelector(".weight"),i.pledge=t.querySelector(".pledge"),i.fee=t.querySelector(".fee"),i.summary=t.querySelector(".summary"),i.summ=i.totalPrice+parseInt(i.shippingFee),i.weight.innerHTML=i.totalWeight+"kg",i.pledge.innerHTML="$"+i.totalPrice,i.fee.innerHTML="$"+i.shippingFee,i.summary.innerHTML="$"+i.summ}),i.xhr.send()},this.events_=function(){t.addEventListener("DOMContentLoaded",function(){i.deleteSummData_()}),t.addEventListener("change",function(){for(var e=0;e<i.itemBox.length;e++)i.itemBox[e].querySelector(".item__add").checked?(i.itemBox[e].classList.remove("itembox--inactive"),i.itemBox[e].classList.add("itembox--active"),i.itemBox[e].querySelector(".item__checked").style.display="block"):i.itemBox[e].querySelector(".item__add").checked||"radio"!=i.itemBox[e].querySelector(".item__add").getAttribute("type")?i.itemBox[e].querySelector(".item__add").checked||(i.itemBox[e].classList.remove("itembox--active"),i.itemBox[e].querySelector(".item__checked").style.display="none"):(i.itemBox[e].classList.remove("itembox--active"),i.itemBox[e].classList.add("itembox--inactive"),i.itemBox[e].querySelector(".item__checked").style.display="none")}),i.select.addEventListener("change",function(){a=i.select.querySelectorAll("option")[i.select.selectedIndex].getAttribute("region"),i.summCont.style.display="block",i.summary_()});for(var e=0;e<i.itemBox.length;e++)i.addEvent_(i.itemBox[e].querySelector(".item__add"),"click",function(e){e.target.checked?i.addItem_(e):e.target.checked||i.delItem_(e)}),i.itemBox[e].querySelector(".item__plus")&&i.addEvent_(i.itemBox[e].querySelector(".item__plus"),"click",function(e){i.plusItem_(e)}),i.itemBox[e].querySelector(".item__remove")&&i.addEvent_(i.itemBox[e].querySelector(".item__remove"),"click",function(e){i.removeItem_(e)})},this.init_=function(){i.events_()},this.init_()}},{}],2:[function(e,t,r){"use strict";$(function(){$(".item__add").click(function(e){"radio"==e.target.getAttribute("type")&&$("html, body").animate({scrollTop:$(".addons").position().top},500)})})},{}],3:[function(e,t,r){"use strict";e("../components/results/regions.js"),e("../components/items/script.js")},{"../components/items/script.js":1,"../components/results/regions.js":2}]},{},[3]);
//# sourceMappingURL=dist/js/maps/main.min.js.map
